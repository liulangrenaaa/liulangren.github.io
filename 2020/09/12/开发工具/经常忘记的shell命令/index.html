<!doctype html>
<html lang="zh"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta><title>那些经常忘记的shell命令 - liulangren Blog</title><link rel="manifest" href="/manifest.json"><meta name="application-name" content="liulangren blog"><meta name="msapplication-TileImage" content="/img/favicon.svg"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-title" content="liulangren blog"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="description" content="总有那么几条经常使用，但有比较难记住的命令，做个记录。  ln 创建连接  ln 创建 软链接 12ln -s   实际文件&amp;#x2F;目录          软链接文件&amp;#x2F;目录ln -s &amp;#x2F;usr&amp;#x2F;sbin&amp;#x2F;trace-bpfcc &amp;#x2F;usr&amp;#x2F;bin&amp;#x2F;trace  ln 创建 硬链接 12ln   实际文件          硬链"><meta property="og:type" content="blog"><meta property="og:title" content="那些经常忘记的shell命令"><meta property="og:url" content="https://liulangrenaaa.github.io/2020/09/12/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/%E7%BB%8F%E5%B8%B8%E5%BF%98%E8%AE%B0%E7%9A%84shell%E5%91%BD%E4%BB%A4/"><meta property="og:site_name" content="liulangren Blog"><meta property="og:description" content="总有那么几条经常使用，但有比较难记住的命令，做个记录。  ln 创建连接  ln 创建 软链接 12ln -s   实际文件&amp;#x2F;目录          软链接文件&amp;#x2F;目录ln -s &amp;#x2F;usr&amp;#x2F;sbin&amp;#x2F;trace-bpfcc &amp;#x2F;usr&amp;#x2F;bin&amp;#x2F;trace  ln 创建 硬链接 12ln   实际文件          硬链"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://liulangrenaaa.github.io/img/og_image.png"><meta property="article:published_time" content="2020-09-12T11:00:00.000Z"><meta property="article:modified_time" content="2021-04-14T11:44:21.324Z"><meta property="article:author" content="Su Hui"><meta property="article:tag" content="shell"><meta property="twitter:card" content="summary"><meta property="twitter:image" content="/img/og_image.png"><script type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","mainEntityOfPage":{"@type":"WebPage","@id":"https://liulangrenaaa.github.io/2020/09/12/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/%E7%BB%8F%E5%B8%B8%E5%BF%98%E8%AE%B0%E7%9A%84shell%E5%91%BD%E4%BB%A4/"},"headline":"liulangren Blog","image":["https://liulangrenaaa.github.io/img/og_image.png"],"datePublished":"2020-09-12T11:00:00.000Z","dateModified":"2021-04-14T11:44:21.324Z","author":{"@type":"Person","name":"Su Hui"},"description":"总有那么几条经常使用，但有比较难记住的命令，做个记录。  ln 创建连接  ln 创建 软链接 12ln -s   实际文件&#x2F;目录          软链接文件&#x2F;目录ln -s &#x2F;usr&#x2F;sbin&#x2F;trace-bpfcc &#x2F;usr&#x2F;bin&#x2F;trace  ln 创建 硬链接 12ln   实际文件          硬链"}</script><link rel="canonical" href="https://liulangrenaaa.github.io/2020/09/12/%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7/%E7%BB%8F%E5%B8%B8%E5%BF%98%E8%AE%B0%E7%9A%84shell%E5%91%BD%E4%BB%A4/"><link rel="icon" href="/img/favicon.svg"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/font-awesome/5.12.0/css/all.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/highlight.js/9.12.0/styles/monokai.min.css"><link rel="stylesheet" href="https://fonts.loli.net/css2?family=Ubuntu:wght@400;600&amp;family=Source+Code+Pro"><link rel="stylesheet" href="/css/default.css"><style>body>.footer,body>.navbar,body>.section{opacity:0}</style><!--!--><script>var _hmt = _hmt || [];
        (function() {
            var hm = document.createElement("script");
            hm.src = "//hm.baidu.com/hm.js?cabdc5b9b70bb83fa919a6ebeb439f93";
            var s = document.getElementsByTagName("script")[0];
            s.parentNode.insertBefore(hm, s);
        })();</script><!--!--><script src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" defer></script><!--!--><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/lightgallery/1.6.8/css/lightgallery.min.css"><link rel="stylesheet" href="https://cdnjs.loli.net/ajax/libs/justifiedGallery/3.7.0/css/justifiedGallery.min.css"><script src="https://www.googletagmanager.com/gtag/js?id=PTKX6HMR55" async></script><script>window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
    
        gtag('config', 'PTKX6HMR55');</script><!--!--><script src="https://cdnjs.loli.net/ajax/libs/pace/1.0.2/pace.min.js"></script><!--!--><!--!--><meta name="generator" content="Hexo 5.1.1"></head><body class="is-3-column"><nav class="navbar navbar-main"><div class="container"><div class="navbar-brand justify-content-center"><a class="navbar-item navbar-logo" href="/"><img src="/img/logo.svg" alt="liulangren Blog" height="28"></a></div><div class="navbar-menu"><div class="navbar-start"><a class="navbar-item" href="/">Home</a><a class="navbar-item" href="/archives">Archives</a><a class="navbar-item" href="/categories">Categories</a><a class="navbar-item" href="/tags">Tags</a><a class="navbar-item" href="/about">About</a></div><div class="navbar-end"><a class="navbar-item" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus"><i class="fab fa-github"></i></a><a class="navbar-item search" title="搜索" href="javascript:;"><i class="fas fa-search"></i></a></div></div></div></nav><section class="section"><div class="container"><div class="columns"><div class="column order-2 column-main is-8-tablet is-8-desktop is-6-widescreen"><div class="card"><article class="card-content article" role="article"><div class="article-meta is-size-7 is-uppercase level is-mobile"><div class="level-left"><span class="level-item"><time dateTime="2020-09-12T11:00:00.000Z" title="9/12/2020, 7:00:00 PM">2020-09-12</time>发表</span><span class="level-item"><time dateTime="2021-04-14T11:44:21.324Z" title="4/14/2021, 7:44:21 PM">2021-04-14</time>更新</span><span class="level-item"><a class="link-muted" href="/categories/shell%E8%84%9A%E6%9C%AC/">shell脚本</a></span><span class="level-item">24 分钟读完 (大约3585个字)</span><span class="level-item" id="busuanzi_container_page_pv"><span id="busuanzi_value_page_pv">0</span>次访问</span></div></div><h1 class="title is-3 is-size-4-mobile">那些经常忘记的shell命令</h1><div class="content"><p>总有那么几条经常使用，但有比较难记住的命令，做个记录。</p>
<ol>
<li>ln 创建连接</li>
</ol>
<p>ln 创建 软链接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln -s   实际文件&#x2F;目录          软链接文件&#x2F;目录</span><br><span class="line">ln -s &#x2F;usr&#x2F;sbin&#x2F;trace-bpfcc &#x2F;usr&#x2F;bin&#x2F;trace</span><br></pre></td></tr></table></figure>

<p>ln 创建 硬链接</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ln   实际文件          硬链接文件 &#x2F;&#x2F;目录无法使用硬链接</span><br><span class="line">ln  &#x2F;usr&#x2F;sbin&#x2F;trace-bpfcc &#x2F;usr&#x2F;bin&#x2F;trace</span><br></pre></td></tr></table></figure>



<ol start="2">
<li>tar</li>
</ol>
<p>解压 tar.gz 文件      // extrat – 提取</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf file.tar.gz</span><br></pre></td></tr></table></figure>

<p>压缩 文件、文件夹      // create  – 创建</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zcvf file.tar.gz  .&#x2F;file</span><br></pre></td></tr></table></figure>


<ol start="3">
<li>zip</li>
</ol>
<p>zip 解压 aaa.zip文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">unzip aaa.zip</span><br></pre></td></tr></table></figure>

<p>zip 压缩文件夹</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zip -r aaa.zip .&#x2F;aaa</span><br></pre></td></tr></table></figure>

<p>zip 压缩多个文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">zip -r aaa.zip .&#x2F;aaa .&#x2F;bbb</span><br></pre></td></tr></table></figure>




<ol start="4">
<li>scp 本地 &lt;–&gt; 远程 互传文件</li>
</ol>
<p>从 ubuntu@xxx:222 获取 <code>/home/ubuntu/.vscode-server/data/Machine/settings.json</code> 文件，且保存为 <code>/tmp/settings.json</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -P  222 ubuntu@xxx:&#x2F;home&#x2F;ubuntu&#x2F;.vscode-server&#x2F;data&#x2F;Machine&#x2F;settings.json &#x2F;tmp&#x2F;settings.json</span><br></pre></td></tr></table></figure>

<p>将本地的 elfutils-0.144.tar.bz2 文件传输到 <code>ubuntu@xxxx:/home/ubuntu/</code> 目录下</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scp -P  222  .&#x2F;elfutils-0.144.tar.bz2 ubuntu@xxxx:&#x2F;home&#x2F;ubuntu&#x2F;</span><br></pre></td></tr></table></figure>
<p>可以参考<a target="_blank" rel="noopener" href="https://www.cnblogs.com/bignode/articles/9241333.html">scp 命令介绍</a></p>
<ol start="5">
<li>ubuntu 截图工具</li>
</ol>
<p>安装</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt-get install flameshot</span><br></pre></td></tr></table></figure>

<p>使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flameshot gui</span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Inspiron-5548@ubuntu: ~&#x2F;workspace&#x2F;linux-stable# cat ~&#x2F;.zshrc| tail -n 1</span><br><span class="line">alias shot&#x3D;&quot;flameshot gui&quot;</span><br><span class="line">Inspiron-5548@ubuntu: ~&#x2F;workspace&#x2F;linux-stable# shot</span><br></pre></td></tr></table></figure>





<ol start="6">
<li>编译linux kernel 前准备工作</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install git fakeroot build-essential ncurses-dev xz-utils libssl-dev bc flex libelf-dev bison clang</span><br></pre></td></tr></table></figure>





<ol start="7">
<li>dd 快速生成大文件<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Inspiron-5548@130ubuntu: ~# dd if&#x3D;&#x2F;dev&#x2F;zero of&#x3D;haha bs&#x3D;1M count&#x3D;100</span><br><span class="line">记录了100+0 的读入</span><br><span class="line">记录了100+0 的写出</span><br><span class="line">104857600 bytes (105 MB, 100 MiB) copied, 0.294862 s, 356 MB&#x2F;s</span><br><span class="line">Inspiron-5548@ubuntu: ~#</span><br></pre></td></tr></table></figure>


</li>
</ol>
<ol start="8">
<li>rsync<br>为啥我需要 rsync来同步文件目录呢？</li>
</ol>
<p>我hexo_blog是部署在 tencent上的，其实本地公司、家里个人电脑也部署了一份，github gitee上也备份了。<br>但是如果依赖手动去同步：</p>
<ol>
<li>在哪个 linux机器上修改了之后及时发布到github,且及时备份到gitee</li>
<li>到新的机器上修改之前，需要先 <code>git pull origin master</code> 将本地，或者服务器上 blog更新到最新</li>
<li>开始修改，修改完成 –&gt; 1</li>
</ol>
<p>然后我发现我这个场景 rsync 并不能很好解决。。<br>如果是 一个服务器 和 备份服务器之间 数据同步 可以使用这样的方式。。<br>突然想到，在新安装一台 linux主机 虚拟机 的时候，可以使用 rsync 来同步，减少 home 目录下文件搞来稿去的 事情。。</p>
<p><a target="_blank" rel="noopener" href="http://einverne.github.io/post/2017/07/rsync-introduction.html">rsync 命令</a></p>
<ol start="9">
<li>samba 相关</li>
</ol>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net Z: 192.168.1.103???</span><br></pre></td></tr></table></figure>



<ol start="10">
<li>wine 使用</li>
</ol>
<p>工作上可能需要使用通讯会议这样的软件，或者是临时使用source insight，但这些又都没有linux版<br>本，要么使用wine来模拟windows api实现，要么使用windows虚拟机。</p>
<p>这里使用wine:<br>安装 <code>wine</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install wine</span><br><span class="line">sudo apt install winetricks</span><br></pre></td></tr></table></figure>

<p>安装 <code>软件</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install winetricks</span><br></pre></td></tr></table></figure>
<p>进去选择资源管理器，初始化一下~/.wine 目录，然后直接安装</p>
<p>使用 <code>软件</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Inspiron-5548@ubuntu: ~&#x2F;workspace# tail ~&#x2F;.zshrc  -n 2</span><br><span class="line">alias shot&#x3D;&quot;flameshot gui&quot;</span><br><span class="line">alias wemeet&#x3D;&quot;wine &#x2F;home&#x2F;ubuntu&#x2F;.wine&#x2F;drive_c&#x2F;Program\ Files\ \(x86\)&#x2F;Tencent&#x2F;WeMeet&#x2F;wemeetapp.exe&quot;</span><br><span class="line">Inspiron-5548@ubuntu: ~&#x2F;workspace# wemeet</span><br></pre></td></tr></table></figure>


<ol start="11">
<li>查询常见函数</li>
</ol>
<p>apropos</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Inspiron-5548@ubuntu: ~&#x2F;workspace&#x2F;kernel_debug_tools# apropos pid</span><br><span class="line">acpid (8)            - Advanced Configuration and Power Interface event daemon</span><br><span class="line">biosnoop-bpfcc (8)   - Trace block device I&#x2F;O and print details incl. issuing PID.</span><br><span class="line">getpid (2)           - get process identification</span><br><span class="line">getppid (2)          - get process identification</span><br><span class="line">git (1)              - the stupid content tracker</span><br><span class="line">pid_namespaces (7)   - overview of Linux PID namespaces</span><br><span c